(("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[]).push([[6],{1055:function(r,t,e){"use strict";e.d(t,"e",function(){return n}),e.d(t,"f",function(){return o}),e.d(t,"g",function(){return u}),e.d(t,"d",function(){return i}),e.d(t,"c",function(){return a}),e.d(t,"a",function(){return s}),e.d(t,"b",function(){return p});var n={STARTED:1,PENDING_PAYMENT:4,DISMISSED:5,FORMED:7},o={PAY:0,CANCEL_PAYMENT:1,INVITE:2,GROUP_DETAIL:3,ORDER_DETAIL:4,DOWNLOAD:5,CANCEL:6},u={PAID:2,UNPAID:1,INVALID:6},i=0,a=16,s=1e3,p=10},1336:function(r,t,e){"use strict";e(27),e(1);var n=e(3),o=e(10),u="/api/v2/group_buy/get_group",i="/api/v2/group_buy/get_items",a="/api/v2/group_buy/get_my_groups",s="/api/v2/group_buy/get_group_detail",p="/api/v2/group_buy/get_settings";function c(r){return Object(n.d)(i+Object(o.c)(r))}var f="/api/v2/checkout/cancel";e(1355);var d=e(1629),g=e(1055);function y(r,t,e,n,o,u,i){try{var a=r[u](i),s=a.value}catch(r){return void e(r)}a.done?t(s):Promise.resolve(s).then(n,o)}function l(r){return function(){var t=this,e=arguments;return new Promise(function(n,o){var u=r.apply(t,e);function i(r){y(u,n,o,i,a,"next",r)}function a(r){y(u,n,o,i,a,"throw",r)}i(void 0)})}}e.d(t,"f",function(){return v}),e.d(t,"d",function(){return E}),e.d(t,"e",function(){return h}),e.d(t,"c",function(){return _}),e.d(t,"a",function(){return G}),e.d(t,"b",function(){return B});var m={};function v(){return function(){var r=l(regeneratorRuntime.mark(function r(t){var e,o,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:d.g.REQUESTED}),r.next=3,Object(n.d)(p);case 3:return e=r.sent,o=e.response,u=e.error,t(u?{type:d.g.FAILED,payload:u}:{type:d.g.SUCCESS,payload:o}),r.abrupt("return",{response:o,error:u});case 8:case"end":return r.stop()}},r,this)}));return function(t){return r.apply(this,arguments)}}()}function E(r){var t=r.catid,e=r.offset,n=void 0===e?0:e,o=r.limit,u=void 0===o?g.a:o,i=r.getGroupBuyState,a=void 0===i?function(r){return r.groupBuy}:i;return function(){var r=l(regeneratorRuntime.mark(function r(e,o){var i,s,p,f,g,y,l,v,E,h,_,G;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=a(o()),s=i.itemsByCategory&&i.itemsByCategory[t],!((p=s&&s.items)&&Array.isArray(p)&&p.length>n+u)){r.next=5;break}return r.abrupt("return",{response:{data:p,total:p.length}});case 5:return f={catid:t,offset:n,limit:u,preserve_soldout:!0},e({type:d.c.REQUESTED,input:f}),r.next=9,c(f);case 9:return g=r.sent,y=g.response,(l=g.error)?e({type:d.c.FAILED,payload:l,input:f}):(v=y&&y.data?y.data:m,E=v.items,h=v.total,_=Math.min(n+u,h||0),G=!E||E.length>=u,e({type:d.c.SUCCESS,payload:{items:E,hasMore:G,offset:n,limit:u,nextOffset:_,total:h},input:f})),r.abrupt("return",{response:y,error:l});case 14:case"end":return r.stop()}},r,this)}));return function(t,e){return r.apply(this,arguments)}}()}function h(r){var t=r.listType,e=void 0===t?d.j.ALL:t,u=r.offset,i=void 0===u?0:u,s=r.limit,p=void 0===s?g.b:s,c=r.getGroupBuyState,f=void 0===c?function(r){return r.groupBuy}:c,y=r.getGroupByGroupId,v=void 0===y?function(r,t){return r.groupByGroupid[t]}:y;return function(){var r=l(regeneratorRuntime.mark(function r(t,u){var s,c,g,y,l,E,h,_,G,B,b,C;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(s=f(u()),c=s.myGroups&&s.myGroups[e],!((g=c&&c.groups)&&Array.isArray(g)&&g.length>i+p)){r.next=5;break}return r.abrupt("return",{response:{data:g.map(function(r){return v(s,r)}),total:g.length}});case 5:return y={list_type:e,offset:i,limit:p},t({type:d.f.REQUESTED,query:y}),r.next=9,O=y,Object(n.d)(a+Object(o.c)(O));case 9:return l=r.sent,E=l.response,(h=l.error)?t({type:d.f.FAILED,payload:h,query:y}):(_=E&&E.data?E.data:m,G=_.groups,B=_.total,b=Math.min(i+p,B||0),C=!G||G.length>=p,t({type:d.f.SUCCESS,payload:{groups:G,hasMore:C,nextOffset:b,limit:p,offset:i,total:B||0},query:y})),r.abrupt("return",{response:E,error:h});case 14:case"end":return r.stop()}var O},r,this)}));return function(t,e){return r.apply(this,arguments)}}()}function _(r){var t=r.groupId,e=r.orderId;return function(){var r=l(regeneratorRuntime.mark(function r(u){var i,a,p,c,f,g;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i={groupid:t,orderid:e},a=""+t+e,u({type:d.b.REQUESTED,query:i,requestId:a}),r.next=5,y=i,Object(n.d)(s+Object(o.c)(y));case 5:return p=r.sent,c=p.response,f=p.error,g=c&&c.data||m,u(f?{type:d.b.FAILED,payload:f,query:i,requestId:a}:{type:d.b.SUCCESS,payload:g,query:i,requestId:a}),r.abrupt("return",{response:c,error:f});case 11:case"end":return r.stop()}var y},r,this)}));return function(t){return r.apply(this,arguments)}}()}function G(r){var t=r.groupId,e=r.orderId,u=r.checkoutId;return function(){var r=l(regeneratorRuntime.mark(function r(i){var a,s,p;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(u&&e){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,c={checkout_id:u},Object(n.d)(f+Object(o.c)(c));case 5:return a=r.sent,s=a.error,p=a.response,s||i(_({groupId:t,orderId:e})),r.abrupt("return",{error:s,response:p});case 10:case"end":return r.stop()}var c},r,this)}));return function(t){return r.apply(this,arguments)}}()}function B(r){var t=r.groupId;return function(){var r=l(regeneratorRuntime.mark(function r(e){var i,a,s,p,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e({type:d.a.REQUESTED}),i={groupid:t},r.next=4,f=i,Object(n.d)(u+Object(o.c)(f));case 4:a=r.sent,s=a.response,(p=a.error)?e({type:d.a.FAILED,payload:{error:p},query:i}):(c=s&&s.data?s.data:m,e({type:d.a.SUCCESS,payload:{group:c},query:i}));case 8:case"end":return r.stop()}var f},r,this)}));return function(t){return r.apply(this,arguments)}}()}},1355:function(r,t,e){"use strict";function n(){return(n=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r}).apply(this,arguments)}e.d(t,"d",function(){return i}),e.d(t,"e",function(){return a}),e.d(t,"b",function(){return s}),e.d(t,"c",function(){return p}),e.d(t,"a",function(){return f}),e.d(t,"f",function(){return d});var o={},u={items:[],hasMore:!0,isFetching:!1};function i(r,t){var e=t(r);return function(r){var t=e&&e.itemsByCategory&&e.itemsByCategory[r]||u;if(t.items&&t.total){var n=t&&t.items?t.items.slice(0,t.total):[],o=new Map,i=n,a=Array.isArray(i),s=0;for(i=a?i:i[Symbol.iterator]();;){var p;if(a){if(s>=i.length)break;p=i[s++]}else{if((s=i.next()).done)break;p=s.value}var c=p;o.set(c.itemid,c)}t.items=Array.from(o.values())}return t}}function a(r,t,e){var n=t(r);return n&&n.myGroups&&n.myGroups[e]&&n.myGroups[e].total?n.myGroups[e].total:0}function s(r,t,e){var o=t(r),u=o&&o.myGroups&&o.myGroups[e]?o.myGroups[e]:{hasMore:!0,isFetching:!1,limit:0,nextOffset:0,offset:0,groups:[],total:0},i=(u&&u.groups?u.groups:[]).map(function(r){var t=o&&o.orderDetail&&o.orderDetail[r]&&o.orderDetail[r].info||{},e=t&&t.groupid?t.groupid:null;return n({},t,{group_info:o&&o.groupByGroupid&&e&&o.groupByGroupid[e]?o.groupByGroupid[e]:null})});return{offset:u.offset,hasMore:u.hasMore,isFetching:u.isFetching,nextOffset:u.nextOffset,limit:u.limit,total:u.total,groups:i}}function p(r,t,e){var u=t(r),i=u&&u.orderDetail&&u.orderDetail[e]&&u.orderDetail[e].info?u.orderDetail[e].info:null;return i?n({},i,{group_info:c(r,t,i.groupid)}):o}function c(r,t,e){var n=t(r).groupByGroupid[e];return n||o}function f(r,t){var e=r.groupBuy,o=void 0===e?{}:e;return n({},o.groupInvite,{group:o&&o.groupByGroupid&&o.groupByGroupid[t]||null})}var d=function(r,t){return r.groupBuy&&r.groupBuy.openGroupBuy&&r.groupBuy.openGroupBuy[t]}},1471:function(r,t,e){"use strict";var n,o=e(20),u=e(1629),i={REQ:0,OK:1,ERR:2};function a(){return(a=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r}).apply(this,arguments)}t.a=Object(o.a)(((n={})[u.g.REQUESTED]=function(r){return a({},r,{settings:{isFetching:!0}})},n[u.g.SUCCESS]=function(r,t){return a({},r,{settings:a({},t.payload.data,{isFetching:!1})})},n[u.g.FAILED]=function(r,t){return a({},r,{settings:4===t.payload?null:{isFetching:!1}})},n[u.h.REQUESTED]=function(r){return a({},r,{homePage:a({},r.homePage,{items:[],isFetching:!0})})},n[u.h.SUCCESS]=function(r,t){var e=t&&t.payload&&t.payload.items||[];return a({},r,{homePage:a({},r.homePage,{items:e,isFetching:!1})})},n[u.h.FAILED]=function(r){return a({},r,{homePage:a({},r.homePage,{isFetching:!1})})},n[u.c.REQUESTED]=function(r,t){var e,n=t.input.catid,o=r&&r.itemsByCategory&&r.itemsByCategory[n]?r.itemsByCategory[n]:{items:[],hasMore:!0,isFetching:!0};return a({},r,{itemsByCategory:a({},r.itemsByCategory,(e={},e[n]=a({},o,{isFetching:!0}),e))})},n[u.c.SUCCESS]=function(r,t){var e,n=t.input,o=n.catid,u=r&&r.itemsByCategory&&r.itemsByCategory[o],i=u&&u.items&&u.items.length>0?u.items:[],s=t.payload,p=s.items,c=s.hasMore,f=s.limit,d=s.offset,g=s.nextOffset,y=s.total;return a({},r,{itemsByCategory:a({},r.itemsByCategory,(e={},e[o]={items:i.slice(0,n.offset).concat(p).concat(i.slice(n.offset+p.length)),hasMore:c,limit:f,offset:d,nextOffset:g,total:y,isFetching:!1,error:null},e))})},n[u.c.FAILED]=function(r,t){var e,n=t.input.catid,o=t.payload,u=r&&r.itemsByCategory&&r.itemsByCategory[n]?r.itemsByCategory[n]:{items:[],hasMore:!0,isFetching:!1};return a({},r,{itemsByCategory:a({},r.itemsByCategory,(e={},e[n]=4===o?void 0:a({},u,{isFetching:!1,hasMore:!1,error:o}),e))})},n[u.f.REQUESTED]=function(r,t){var e,n=t.query.list_type;return a({},r,{myGroups:a({},r.myGroups,(e={},e[n]=a({},r.myGroups[n],{isFetching:!0,hasMore:!0}),e))})},n[u.f.SUCCESS]=function(r,t){for(var e,n=t.payload,o=n.groups,u=n.hasMore,i=n.nextOffset,s=n.limit,p=n.offset,c=n.total,f=t.query.list_type,d=r.myGroups[f]&&r.myGroups[f].groups||[],g=[],y={},l={},m=0;m<o.length;m++){var v=o[m].group_info?o[m].group_info.groupid:null,E=o[m].orderid?o[m].orderid:null;if(E&&v){g.push(E),l[v]=a({},o[m].group_info);var h=a({},o[m],{groupid:v,group_info:void 0});y[E]={isFetching:!1,info:h}}}return a({},r,{groupByGroupid:a({},r.groupByGroupid,l),myGroups:a({},r.myGroups,(e={},e[f]={isFetching:!1,groups:d.slice(0,p).concat(g).concat(d.slice(p+g.length)),hasMore:u,nextOffset:i,limit:s,offset:p,total:c},e)),orderDetail:a({},r.orderDetail,y)})},n[u.f.FAILED]=function(r,t){var e,n=t.query.list_type;return a({},r,{myGroups:a({},r.myGroups,(e={},e[n]=a({},r.myGroups[n],{isFetching:!1,hasMore:!1}),e))})},n[u.b.REQUESTED]=function(r,t){var e,n=t.query.orderid;return a({},r,{orderDetail:a({},r.orderDetail,(e={},e[n]=a({},r.orderDetail[n],{isFetching:!0}),e))})},n[u.b.SUCCESS]=function(r,t){var e,n,o=t.payload,u=t.query.groupid,i=o.orderid,s=a({},o.group_info),p=a({},o,{groupid:u,group_info:void 0});return a({},r,{groupByGroupid:a({},r.groupByGroupid,(e={},e[u]=a({},s),e)),orderDetail:a({},r.orderDetail,(n={},n[i]={isFetching:!1,info:p},n))})},n[u.b.FAILED]=function(r,t){var e,n=t.query.orderid;return a({},r,{orderDetail:a({},r.orderDetail,(e={},e[n]=a({},r.orderDetail[n],{isFetching:!1}),e))})},n[u.d.REQUESTED]=function(r,t){var e,n,o=t.query;return o.groupid?a({},r,{groupByGroupid:a({},r.groupByGroupid,(e={},e[o.groupid]={progress:i.REQ},e))}):o.group_code?a({},r,{groupByCode:a({},r.groupByCode,(n={},n[o.group_code]={progress:i.REQ},n))}):r},n[u.d.SUCCESS]=function(r,t){var e,n=t.payload;return a({},r,{groupByGroupid:a({},r.groupByGroupid,(e={},e[n.groupid]=a({progress:i.OK},n),e))})},n[u.d.FAILED]=function(r,t){var e,n,o=t.query,u=t.error;return o.groupid?a({},r,{groupByGroupid:a({},r.groupByGroupid,(e={},e[o.groupid]={progress:i.ERR,error:u},e))}):o.group_code?a({},r,{groupByCode:a({},r.groupByCode,(n={},n[o.group_code]={progress:i.ERR,error:u},n))}):r},n[u.a.REQUESTED]=function(r){return a({},r,{groupInvite:{isFetching:!0,error:null}})},n[u.a.SUCCESS]=function(r,t){var e,n=t.payload.group,o=t.query.groupid;return a({},r,{groupByGroupid:a({},r.groupByGroupid,(e={},e[o]=n,e)),groupInvite:{isFetching:!1,group:o}})},n[u.a.FAILED]=function(r,t){return a({},r,{groupInvite:{isFetching:!1,error:t.payload.error}})},n[u.i.SUCCESS]=function(r,t){var e,n=t.itemId,o=t.groups,u=t.total;return a({},r,{openGroupBuy:a({},r.openGroupBuy,(e={},e[n]={groups:o,total:u},e))})},n),{settings:null,itemsByCategory:{},groupByItemid:{},groupByGroupid:{},groupByCode:{},myGroups:{},orderDetail:{},groupInvite:{},homePage:{},openGroupBuy:{}})},1629:function(r,t,e){"use strict";e.d(t,"d",function(){return o}),e.d(t,"h",function(){return u}),e.d(t,"c",function(){return i}),e.d(t,"f",function(){return a}),e.d(t,"b",function(){return s}),e.d(t,"g",function(){return p}),e.d(t,"a",function(){return c}),e.d(t,"e",function(){return f}),e.d(t,"i",function(){return d}),e.d(t,"j",function(){return g});var n=e(1),o=Object(n.b)("FETCH_GROUP_BUY_ITEM_GROUP"),u=(Object(n.b)("FETCH_GROUP_BUY_ITEM_GROUP_LIST"),Object(n.b)("FETCH_HOME_PAGE_GROUP_BUY_ITEMS")),i=Object(n.b)("FETCH_GROUP_BUY_ITEMS"),a=Object(n.b)("FETCH_GROUP_BUY_MY_GROUPS"),s=Object(n.b)("FETCH_GROUP_BUY_GROUP_DETAIL"),p=Object(n.b)("FETCH_GROUP_BUY_SETTINGS"),c=Object(n.b)("FETCH_GROUP_BUY_GROUP"),f=Object(n.b)("FETCH_GROUP_BUY_ITEM_GROUPS"),d=Object(n.b)("FETCH_ITEM_OPEN_GROUP_BUY"),g={ALL:0,ONGOING:1,COMPLETED:2,INVALID:3}}}]);
//# sourceMappingURL=https://shopee.sg/assets/default~Homepage~PageGroupBuyDetail~PageGroupBuyInvite~PageGroupBuyList~PageGroupBuyMyGroups.6d5a77fb34b2c69d0250.js.map